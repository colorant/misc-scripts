#!/bin/bash

#set -x

HFILES=`cat $1 | grep "Cached" | grep "$2" | awk '{print $8}' | sed 's/\./ /g' | awk '{print $2}'`

Table=$1

IP=`echo $2 | sed 's/sr1/10\.0\.0\./g'`
echo $IP

HFILES1="0e65d642b50228b91419eccae1315854
7ee6d4d93f127da14e8ee750b5fa9423
56a33dc42fd75a7d5c5d806f741ed8f2
afa503cecd9eef6fa51ca3ee64fee26a
855d61c070bc3a7549eb8ce88ecc9052
54e93c83c5e2269e619e6894d0662070
b5144068274f0ecb13ebde97e2cce381
19b99a0b48e51073df1690e09b6abd97
805e303d2e764fad662dc363404fbd79
1e1db7da6ae596f3034ff7a384411d78
0db28f78d80ab115617e4a842a2067cb
073932e19be358000d783cdd628d38f9
a01aa64bdef8e362f2f90294d613eaba
1f24dea00a63276ecd684993e0dd753c
4e68d0e948cd2628b47f0db232be0f1b
0c5ff55d5005c254de7f297298011177
e91aa4ece8fe29f24206f6b14e7e0182
45ab5baa496d304270c385a943af5599
d1476ae08583715ee2b72352eedbd449
38a36efc25c67fec73cedd772420b57b
316b62d0b03e87bd8c358e016bf82301
5be7f2fd1d25b1cbbe85434e479d6ac4
37a7911efe821799d5761456f3928f23
0a23dfec367ae2e88516f2298554b3bc"

HFILES2="
e60283940969862350703f21ab71b5a1
a16edc10f346da46bb677695a7aace7f
83271f43de88184eb0bab6d8ec03f69c
38df4bc4a9f7f951fa372a5bf8a3c57f
eab509d7b3274911623c9cec1e7c1c54
3ea632ae51cc19f7f2c01698f6ef8c42
eb1fc590e5c9f2c06340b1e3f087ad7b
4d73c48bb02eabb8d787dbd0a3f0361f
fded0a7ee77168c4d913e7463bf7ba5d
f31bd7c94f01ef2217aad03de902282b
0be6e5873a9a7aaabdcc19f5d59dd80d
943a61157f7d6db2f1d433106efe1159
bdd81d3d44fcf5312e549b9329a1badb
6accae62160eedddd72dd094365f35a0
4def59edb65e9796d327e0ef6f3b2c72
416800d18f73f62a641c4a6d1be0a230
5cc4fa0703e712950f9ec9a6af5b6e9c
734b656b8513bd83780a21cebe4781da
a1a02dd0b5a24ff0d983aaeb3ccc641e
411e6775d776ce8a3859852dcdc5f6d8
053b100f63416f73dda31ba15cd3e260
b1701bc08d6af901e44a1c18226a7daf
f4627e63f9ab7fa0b45316e6f5b79137
b30a3b82d7459aabcc61d89bb55ecc19"

for f in $HFILES
do
  echo $f
  ./findblock.sh $IP /hbase/$Table/$f
done




